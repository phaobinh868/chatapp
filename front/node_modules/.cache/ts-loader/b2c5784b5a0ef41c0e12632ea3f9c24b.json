{"remainingRequest":"E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\babel-loader\\lib\\index.js!E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\ts-loader\\index.js??ref--14-2!E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\projects\\chat-app\\vue-pwa-tutorial\\src\\main.ts","dependencies":[{"path":"E:\\projects\\chat-app\\vue-pwa-tutorial\\src\\main.ts","mtime":1627027346997},{"path":"E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJFOlxccHJvamVjdHNcXGNoYXQtYXBwXFx2dWUtcHdhLXR1dG9yaWFsXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJFOlxccHJvamVjdHNcXGNoYXQtYXBwXFx2dWUtcHdhLXR1dG9yaWFsXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLnByb21pc2UuanMiOwppbXBvcnQgIkU6XFxwcm9qZWN0c1xcY2hhdC1hcHBcXHZ1ZS1wd2EtdHV0b3JpYWxcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMub2JqZWN0LmFzc2lnbi5qcyI7CmltcG9ydCAiRTpcXHByb2plY3RzXFxjaGF0LWFwcFxcdnVlLXB3YS10dXRvcmlhbFxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5wcm9taXNlLmZpbmFsbHkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IHsgY3JlYXRlQXBwIH0gZnJvbSAndnVlJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IEFwcCBmcm9tICcuL0FwcC52dWUnOwppbXBvcnQgcm91dGVyIGZyb20gJy4vcm91dGVycyc7CmltcG9ydCBzdG9yZSBmcm9tICcuL3N0b3Jlcyc7CnN0b3JlLmRpc3BhdGNoKCdzZXRTb2NrZXQnLCBudWxsKTsKCmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gImRldmVsb3BtZW50IikgewogIHN0b3JlLmRpc3BhdGNoKCdzZXRTZXJ2ZXJQcm94eScsIHByb2Nlc3MuZW52LlZVRV9BUFBfREVWX1BST1hZKTsKICBzdG9yZS5kaXNwYXRjaCgnc2V0U2VydmVyVXJsJywgcHJvY2Vzcy5lbnYuVlVFX0FQUF9ERVZfVVJMKTsKfSBlbHNlIHsKICBzdG9yZS5kaXNwYXRjaCgnc2V0U2VydmVyUHJveHknLCBwcm9jZXNzLmVudi5WVUVfQVBQX1BST0RfUFJPWFkpOwogIHN0b3JlLmRpc3BhdGNoKCdzZXRTZXJ2ZXJVcmwnLCBwcm9jZXNzLmVudi5WVUVfQVBQX1BST0RfVVJMKTsKfQoKaWYgKGxvY2FsU3RvcmFnZS51c2VyICYmIGxvY2FsU3RvcmFnZS5hdXRoKSB7CiAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnVzZXIpLnRva2VuOwp9IGVsc2UgewogIGRlbGV0ZSBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddOwp9CgppZiAobG9jYWxTdG9yYWdlLnVzZXIpIHsKICBzdG9yZS5kaXNwYXRjaCgnc2V0VXNlcicsIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnVzZXIpKTsKfQoKaWYgKGxvY2FsU3RvcmFnZS5hdXRoKSB7CiAgc3RvcmUuZGlzcGF0Y2goJ3NldEF1dGgnLCBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5hdXRoKSk7Cn0KCmlmIChsb2NhbFN0b3JhZ2Uucm9vbSkgewogIHN0b3JlLmRpc3BhdGNoKCdzZXRSb29tJywgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2Uucm9vbSkpOwp9CgpheGlvcy5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnIpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTsKfSk7CmF4aW9zLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgcmV0dXJuIHJlc3BvbnNlOwp9LCBmdW5jdGlvbiAoZXJyKSB7CiAgaWYgKGVyci5yZXNwb25zZS5zdGF0dXMgPT09IDQwMSkgewogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXInKTsKICAgIHN0b3JlLmRpc3BhdGNoKCdzZXRVc2VyJywgZmFsc2UpOwogICAgcm91dGVyLnB1c2goewogICAgICBuYW1lOiAnTG9naW4nLAogICAgICBwYXJhbXM6IHsKICAgICAgICBtZXNzYWdlOiAnU2Vzc2lvbiBoYXMgZXhwaXJlZCEnCiAgICAgIH0KICAgIH0pOwogIH0KCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7Cn0pOwpjcmVhdGVBcHAoQXBwKS51c2Uocm91dGVyKS51c2Uoc3RvcmUpLm1vdW50KCcjcm9vdCcpOw=="},{"version":3,"sources":["E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\projects\\chat-app\\vue-pwa-tutorial\\src\\main.ts"],"names":[],"mappings":";;;;;AAAA,SAAS,SAAT,QAA0B,KAA1B;AACA,OAAO,KAAP,MAAkB,OAAlB;AAEA,OAAO,GAAP,MAAgB,WAAhB;AACA,OAAO,MAAP,MAAmB,WAAnB;AACA,OAAO,KAAP,MAAkB,UAAlB;AAEA,KAAK,CAAC,QAAN,CAAe,WAAf,EAA4B,IAA5B;;AAEA,IAAI,OAAO,CAAC,GAAR,CAAY,QAAZ,KAAyB,aAA7B,EAA4C;AACxC,EAAA,KAAK,CAAC,QAAN,CAAe,gBAAf,EAAiC,OAAO,CAAC,GAAR,CAAY,iBAA7C;AACA,EAAA,KAAK,CAAC,QAAN,CAAe,cAAf,EAA+B,OAAO,CAAC,GAAR,CAAY,eAA3C;AACH,CAHD,MAGO;AACH,EAAA,KAAK,CAAC,QAAN,CAAe,gBAAf,EAAiC,OAAO,CAAC,GAAR,CAAY,kBAA7C;AACA,EAAA,KAAK,CAAC,QAAN,CAAe,cAAf,EAA+B,OAAO,CAAC,GAAR,CAAY,gBAA3C;AACH;;AAED,IAAI,YAAY,CAAC,IAAb,IAAqB,YAAY,CAAC,IAAtC,EAA4C;AACxC,EAAA,KAAK,CAAC,QAAN,CAAe,OAAf,CAAuB,MAAvB,CAA8B,eAA9B,IAAkD,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,IAAxB,CAAD,CAAgC,KAAjF;AACH,CAFD,MAEO;AACH,SAAO,KAAK,CAAC,QAAN,CAAe,OAAf,CAAuB,MAAvB,CAA8B,eAA9B,CAAP;AACH;;AACD,IAAI,YAAY,CAAC,IAAjB,EAAuB;AACnB,EAAA,KAAK,CAAC,QAAN,CAAe,SAAf,EAA2B,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,IAAxB,CAA3B;AACH;;AACD,IAAI,YAAY,CAAC,IAAjB,EAAuB;AACnB,EAAA,KAAK,CAAC,QAAN,CAAe,SAAf,EAA2B,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,IAAxB,CAA3B;AACH;;AACD,IAAI,YAAY,CAAC,IAAjB,EAAuB;AACnB,EAAA,KAAK,CAAC,QAAN,CAAe,SAAf,EAA2B,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,IAAxB,CAA3B;AACH;;AAED,KAAK,CAAC,YAAN,CAAmB,OAAnB,CAA2B,GAA3B,CACI,UAAS,MAAT,EAAmB;AACf,SAAO,MAAP;AACH,CAHL,EAII,UAAS,GAAT,EAAgB;AACZ,SAAO,OAAO,CAAC,MAAR,CAAe,GAAf,CAAP;AACH,CANL;AASA,KAAK,CAAC,YAAN,CAAmB,QAAnB,CAA4B,GAA5B,CACI,UAAS,QAAT,EAAqB;AACjB,SAAO,QAAP;AACH,CAHL,EAII,UAAS,GAAT,EAAgB;AACZ,MAAI,GAAG,CAAC,QAAJ,CAAa,MAAb,KAAwB,GAA5B,EAAiC;AAC7B,IAAA,YAAY,CAAC,UAAb,CAAwB,MAAxB;AACA,IAAA,KAAK,CAAC,QAAN,CAAe,SAAf,EAA0B,KAA1B;AACA,IAAA,MAAM,CAAC,IAAP,CAAY;AACR,MAAA,IAAI,EAAE,OADE;AAER,MAAA,MAAM,EAAE;AAAE,QAAA,OAAO,EAAE;AAAX;AAFA,KAAZ;AAIH;;AACD,SAAO,OAAO,CAAC,MAAR,CAAe,GAAf,CAAP;AACH,CAdL;AAiBA,SAAS,CAAC,GAAD,CAAT,CAAe,GAAf,CAAmB,MAAnB,EAA2B,GAA3B,CAA+B,KAA/B,EAAsC,KAAtC,CAA4C,OAA5C","sourcesContent":["import { createApp } from 'vue'\r\nimport axios from 'axios';\r\n\r\nimport App from './App.vue';\r\nimport router from './routers';\r\nimport store from './stores';\r\n\r\nstore.dispatch('setSocket', null);\r\n\r\nif (process.env.NODE_ENV === \"development\") {\r\n    store.dispatch('setServerProxy', process.env.VUE_APP_DEV_PROXY);\r\n    store.dispatch('setServerUrl', process.env.VUE_APP_DEV_URL);\r\n} else {\r\n    store.dispatch('setServerProxy', process.env.VUE_APP_PROD_PROXY);\r\n    store.dispatch('setServerUrl', process.env.VUE_APP_PROD_URL);\r\n}\r\n\r\nif (localStorage.user && localStorage.auth) {\r\n    axios.defaults.headers.common['Authorization'] = (JSON.parse(localStorage.user)).token;\r\n} else {\r\n    delete axios.defaults.headers.common['Authorization'];\r\n}\r\nif (localStorage.user) {\r\n    store.dispatch('setUser', (JSON.parse(localStorage.user)));\r\n}\r\nif (localStorage.auth) {\r\n    store.dispatch('setAuth', (JSON.parse(localStorage.auth)));\r\n}\r\nif (localStorage.room) {\r\n    store.dispatch('setRoom', (JSON.parse(localStorage.room)));\r\n}\r\n\r\naxios.interceptors.request.use(\r\n    function(config:any) {\r\n        return config;\r\n    },\r\n    function(err:any) {\r\n        return Promise.reject(err);\r\n    }\r\n);\r\n\r\naxios.interceptors.response.use(\r\n    function(response:any) {\r\n        return response;\r\n    },\r\n    function(err:any) {\r\n        if (err.response.status === 401) {\r\n            localStorage.removeItem('user');\r\n            store.dispatch('setUser', false);\r\n            router.push({\r\n                name: 'Login',\r\n                params: { message: 'Session has expired!' }\r\n            });\r\n        }\r\n        return Promise.reject(err);\r\n    }\r\n);\r\n\r\ncreateApp(App).use(router).use(store).mount('#root')"],"sourceRoot":""}]}