{"remainingRequest":"E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\projects\\chat-app\\vue-pwa-tutorial\\src\\components\\MessageList.vue?vue&type=style&index=0&id=7218dcc5&lang=css","dependencies":[{"path":"E:\\projects\\chat-app\\vue-pwa-tutorial\\src\\components\\MessageList.vue","mtime":1627011981175},{"path":"E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoubWVzc2FnZS1hcmVhIHsNCiAgcGFkZGluZzogMHB4IDE2cHg7DQogIG92ZXJmbG93OiBhdXRvOw0KfQ0KLm1lc3NhZ2Ugew0KICBtYXJnaW4tdG9wOiAyNnB4Ow0KICBmb250LXNpemU6IDE0cHg7DQogIHdpZHRoOiAxMDAlOw0KfQ0KLm1lc3NhZ2U6Zmlyc3QtY2hpbGQgew0KICBtYXJnaW4tdG9wOiAwOw0KfQ0KLm1lc3NhZ2UubGVmdC1tZXNzYWdlIHsNCn0NCi5tZXNzYWdlLnJpZ2h0LW1lc3NhZ2Ugew0KICBkaXNwbGF5OiBmbGV4Ow0KfQ0KLm1lc3NhZ2UgLm1lc3NhZ2UtdXNlciB7DQogIHRleHQtYWxpZ246IGxlZnQ7DQogIG1hcmdpbjogMDsNCiAgbWFyZ2luLWJvdHRvbTogOHB4Ow0KfQ0KLm1lc3NhZ2UgLm1lc3NhZ2UtY29udGVudCB7DQogIHBhZGRpbmc6IDE2cHg7DQogIHRleHQtYWxpZ246IGxlZnQ7DQogIHdpZHRoOiA2MCU7DQogIGJvcmRlci1yYWRpdXM6IDEwcHg7DQogIHBvc2l0aW9uOiByZWxhdGl2ZTsNCn0NCi5tZXNzYWdlLmxlZnQtbWVzc2FnZSAubWVzc2FnZS1jb250ZW50IHsNCiAgYmFja2dyb3VuZDogI2Y2ZjZmNjsNCiAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMDsNCn0NCi5tZXNzYWdlLnJpZ2h0LW1lc3NhZ2UgLm1lc3NhZ2UtY29udGVudCB7DQogIGZsb2F0OiByaWdodDsNCiAgdGV4dC1hbGlnbjogcmlnaHQ7DQogIGJhY2tncm91bmQ6ICM1ZGIwNzU7DQogIGNvbG9yOiAjZmZmOw0KICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMHB4Ow0KfQ0KLm1lc3NhZ2UgLm1lc3NhZ2UtY29udGVudDphZnRlciB7DQogIGNvbnRlbnQ6ICIgIjsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICB3aWR0aDogMDsNCiAgaGVpZ2h0OiAwOw0KICBib3R0b206IC0yMHB4Ow0KICBib3JkZXI6IDEycHggc29saWQ7DQp9DQoubWVzc2FnZS5sZWZ0LW1lc3NhZ2UgLm1lc3NhZ2UtY29udGVudDphZnRlciB7DQogIHJpZ2h0OiBhdXRvOw0KICBsZWZ0OiAwcHg7DQogIGJvcmRlci1jb2xvcjogI2Y2ZjZmNiB0cmFuc3BhcmVudCB0cmFuc3BhcmVudCAjZjZmNmY2Ow0KfQ0KLm1lc3NhZ2UucmlnaHQtbWVzc2FnZSAubWVzc2FnZS1jb250ZW50OmFmdGVyIHsNCiAgbGVmdDogYXV0bzsNCiAgcmlnaHQ6IDBweDsNCiAgYm9yZGVyLWNvbG9yOiAjNWRiMDc1ICM1ZGIwNzUgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQ7DQp9DQo="},{"version":3,"sources":["E:\\projects\\chat-app\\vue-pwa-tutorial\\src\\components\\MessageList.vue"],"names":[],"mappings":"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CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EAC3C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACX,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACvD;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EAC5C,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACV,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACvD","file":"E:/projects/chat-app/vue-pwa-tutorial/src/components/MessageList.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"flex-1 message-area\" ref=\"scrollArea\">\r\n    <template v-if=\"messages && messages.length\">\r\n    <Message v-for=\"message in messages\" :key=\"message._id\" :message=\"message\" :mine=\"message.user._id == getUser._id?true:false\" />\r\n    </template>\r\n    <p v-else>There are no messages yet</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport Message from \"@/components/Message.vue\";\r\n\r\nexport default {\r\n  name: \"MessageList\",\r\n  props: ['messages'],\r\n  data: function() {\r\n      return {\r\n          scrollArea: null,\r\n          loaded: false,\r\n          lastCreatedAt: null,\r\n          timeoutScroll: null\r\n      };\r\n  },\r\n  components: {\r\n    Message,\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"getUser\", \"getSocket\", \"getRoom\"])\r\n  },\r\n  methods: {\r\n    scrollToLast() {\r\n      this.scrollArea.scrollTop = this.scrollArea.scrollHeight - this.scrollArea.clientHeight;\r\n    },\r\n    handleScroll(){\r\n      clearTimeout(this.timeoutScroll);\r\n      var that = this;\r\n      this.timeoutScroll = setTimeout(function(){\r\n        if(that.scrollArea.scrollTop < 20 && that.scrollArea.scrollHeight - that.scrollArea.clientHeight > 0){\r\n          console.log(\"loadMoreMessage\");\r\n          that.getSocket.emit('loadMoreMessage', {\r\n            roomId: that.getRoom._id,\r\n            lastCreatedAt: that.lastCreatedAt\r\n          });\r\n        }\r\n      }, 1000);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.scrollArea = this.$refs.scrollArea;\r\n    this.scrollToLast();\r\n    this.scrollArea.addEventListener('scroll', this.handleScroll);\r\n  },\r\n  updated() {\r\n    if((this.scrollArea.scrollHeight - this.scrollArea.clientHeight)-this.scrollArea.scrollTop < 200 || !this.loaded) this.scrollToLast();\r\n    this.loaded = true;\r\n    if(this.messages.length) this.lastCreatedAt = this.messages[0].createdAt;\r\n  },\r\n  unmounted () {\r\n    this.scrollArea.removeEventListener('scroll', this.handleScroll);\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.message-area {\r\n  padding: 0px 16px;\r\n  overflow: auto;\r\n}\r\n.message {\r\n  margin-top: 26px;\r\n  font-size: 14px;\r\n  width: 100%;\r\n}\r\n.message:first-child {\r\n  margin-top: 0;\r\n}\r\n.message.left-message {\r\n}\r\n.message.right-message {\r\n  display: flex;\r\n}\r\n.message .message-user {\r\n  text-align: left;\r\n  margin: 0;\r\n  margin-bottom: 8px;\r\n}\r\n.message .message-content {\r\n  padding: 16px;\r\n  text-align: left;\r\n  width: 60%;\r\n  border-radius: 10px;\r\n  position: relative;\r\n}\r\n.message.left-message .message-content {\r\n  background: #f6f6f6;\r\n  border-bottom-left-radius: 0;\r\n}\r\n.message.right-message .message-content {\r\n  float: right;\r\n  text-align: right;\r\n  background: #5db075;\r\n  color: #fff;\r\n  border-bottom-right-radius: 0px;\r\n}\r\n.message .message-content:after {\r\n  content: \" \";\r\n  position: absolute;\r\n  width: 0;\r\n  height: 0;\r\n  bottom: -20px;\r\n  border: 12px solid;\r\n}\r\n.message.left-message .message-content:after {\r\n  right: auto;\r\n  left: 0px;\r\n  border-color: #f6f6f6 transparent transparent #f6f6f6;\r\n}\r\n.message.right-message .message-content:after {\r\n  left: auto;\r\n  right: 0px;\r\n  border-color: #5db075 #5db075 transparent transparent;\r\n}\r\n</style>\r\n"]}]}