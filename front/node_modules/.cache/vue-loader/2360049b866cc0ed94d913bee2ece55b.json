{"remainingRequest":"E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\projects\\chat-app\\vue-pwa-tutorial\\src\\views\\ChatRoom.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\projects\\chat-app\\vue-pwa-tutorial\\src\\views\\ChatRoom.vue","mtime":1627025392816},{"path":"E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBNZXNzYWdlTGlzdCBmcm9tICdAL2NvbXBvbmVudHMvTWVzc2FnZUxpc3QudnVlJzsKaW1wb3J0IFRleHRpbmdJbnB1dCBmcm9tICdAL2NvbXBvbmVudHMvVGV4dGluZ0lucHV0LnZ1ZSc7CmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IGlvIGZyb20gJ3NvY2tldC5pby1jbGllbnQnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDaGF0Um9vbScsCiAgY29tcG9uZW50czogewogICAgICBNZXNzYWdlTGlzdCwKICAgICAgVGV4dGluZ0lucHV0CiAgfSwKICBkYXRhOiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAgIHJvb206IFtdLAogICAgICAgICAgdXNlcnM6IFtdLAogICAgICAgICAgbWVzc2FnZXM6IFtdCiAgICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgICAuLi5tYXBHZXR0ZXJzKFsnZ2V0VXNlcicsICdnZXRSb29tJywgJ2dldFNvY2tldCcsICdnZXRTZXJ2ZXJQcm94eSddKQogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucyhbJ3NldEF1dGgnLCAnc2V0U29ja2V0J10pLAogICAgbG9nb3V0KCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2V0QXV0aCcsIGZhbHNlKTsKICAgICAgdGhpcy5nZXRTb2NrZXQuZW1pdCgnbGVhdmVSb29tJywgewogICAgICAgIHJvb21JZDogdGhpcy5nZXRSb29tLl9pZAogICAgICB9KTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldFNvY2tldCcsIG51bGwpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ0xvZ2luJwogICAgICB9KTsKICAgIH0sCiAgICBjb25uZWN0U29ja2V0KCkgewogICAgICB2YXIgc29ja2V0ID0gaW8odGhpcy5nZXRTZXJ2ZXJQcm94eSwgewogICAgICAgIHNlY3VyZTogdHJ1ZSwKICAgICAgICByZWNvbm5lY3Q6IHRydWUsCiAgICAgICAgcmVqZWN0VW5hdXRob3JpemVkIDogZmFsc2UKICAgICAgfSk7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXRTb2NrZXQnLCBzb2NrZXQpOwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuY29ubmVjdFNvY2tldCgpOwogICAgdGhpcy5nZXRTb2NrZXQuZW1pdCgnam9pblJvb20nLCB7CiAgICAgIHJvb21JZDogdGhpcy5nZXRSb29tLl9pZAogICAgfSk7CiAgICB0aGlzLmdldFNvY2tldC5vbignbWVzc2FnZXMnLCBkYXRhID0+IHsKICAgICAgdGhpcy5tZXNzYWdlcyA9IHRoaXMubWVzc2FnZXMuY29uY2F0KGRhdGEucmV2ZXJzZSgpKTsgCiAgICB9KTsKICAgIHRoaXMuZ2V0U29ja2V0Lm9uKCdtb3JlTWVzc2FnZXMnLCBkYXRhID0+IHsKICAgICAgdGhpcy5tZXNzYWdlcyA9IGRhdGEucmV2ZXJzZSgpLmNvbmNhdCh0aGlzLm1lc3NhZ2VzKTsgCiAgICB9KTsKICB9Cn0K"},{"version":3,"sources":["E:\\projects\\chat-app\\vue-pwa-tutorial\\src\\views\\ChatRoom.vue"],"names":[],"mappings":"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","file":"E:/projects/chat-app/vue-pwa-tutorial/src/views/ChatRoom.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"chat-area\">\n    <div class=\"chat-header\">\n      <a class=\"exit-btn\" @click=\"logout\">Exit</a>\n      <h1>{{getRoom.id}}</h1>\n    </div>\n    <MessageList :messages=\"messages\" />\n    <TextingInput />\n  </div>\n</template>\n\n<script>\nimport MessageList from '@/components/MessageList.vue';\nimport TextingInput from '@/components/TextingInput.vue';\nimport { mapActions, mapGetters } from 'vuex';\nimport io from 'socket.io-client';\n\nexport default {\n  name: 'ChatRoom',\n  components: {\n      MessageList,\n      TextingInput\n  },\n  data: function() {\n      return {\n          room: [],\n          users: [],\n          messages: []\n      };\n  },\n  computed: {\n      ...mapGetters(['getUser', 'getRoom', 'getSocket', 'getServerProxy'])\n  },\n  methods: {\n    ...mapActions(['setAuth', 'setSocket']),\n    logout() {\n      this.$store.dispatch('setAuth', false);\n      this.getSocket.emit('leaveRoom', {\n        roomId: this.getRoom._id\n      });\n      this.$store.dispatch('setSocket', null);\n      this.$router.push({\n        name: 'Login'\n      });\n    },\n    connectSocket() {\n      var socket = io(this.getServerProxy, {\n        secure: true,\n        reconnect: true,\n        rejectUnauthorized : false\n      });\n      this.$store.dispatch('setSocket', socket);\n    }\n  },\n  created() {\n    this.connectSocket();\n    this.getSocket.emit('joinRoom', {\n      roomId: this.getRoom._id\n    });\n    this.getSocket.on('messages', data => {\n      this.messages = this.messages.concat(data.reverse()); \n    });\n    this.getSocket.on('moreMessages', data => {\n      this.messages = data.reverse().concat(this.messages); \n    });\n  }\n}\n</script>\n\n<style>\n  .chat-area{\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n  }\n  .chat-area .texting-area textarea:focus-visible{\n    outline: none;\n  }\n  .chat-area .texting-area textarea{\n    font-family: \"Inter\", sans-serif;\n    background: #F6F6F6;\n    border: 1px solid #E8E8E8;\n    box-sizing: border-box;\n    border-radius: 100px;\n    width: 100%;\n    padding: 14px;\n    height: 100%;\n    font-weight: 500;\n    font-size: 16px;\n    overflow: hidden;\n    resize: none;\n  }\n  .chat-area .texting-area button{\n    position: absolute;\n    right: 8px;\n    top: 8px;\n    padding: 10px;\n    border-radius: 50%;\n    border: 0;\n    background: #5DB075;\n    height: 34px;\n    width: 34px;\n  }\n  .chat-area .texting-area{\n    margin: 16px;\n    position: relative;\n    height: 50px;\n  }\n  .chat-area .flex-1{\n    flex: 1;\n  }\n  .chat-area .chat-header{\n    position: relative;\n    align-items: center;\n    padding: 0px 16px;\n    margin-bottom: 16px;\n  }\n  .chat-area .chat-header h1 {\n    font-weight: 600;\n    font-size: 30px;\n    line-height: 36px;\n    color: #000000;\n    margin: 0px;\n    flex: 1;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    padding-left: 30px;\n    padding-right: 30px;\n  }\n  .exit-btn{\n    font-weight: 500;\n    font-size: 16px;\n    color: #5DB075;\n    text-decoration: none;\n    position: absolute;\n    left: 16px;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n  }\n</style>\n"]}]}