{"remainingRequest":"E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\babel-loader\\lib\\index.js!E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\projects\\chat-app\\vue-pwa-tutorial\\src\\views\\Login.vue?vue&type=template&id=26084dc2&scoped=true","dependencies":[{"path":"E:\\projects\\chat-app\\vue-pwa-tutorial\\src\\views\\Login.vue","mtime":1627017974896},{"path":"E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\projects\\chat-app\\vue-pwa-tutorial\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgdk1vZGVsVGV4dCBhcyBfdk1vZGVsVGV4dCwgd2l0aERpcmVjdGl2ZXMgYXMgX3dpdGhEaXJlY3RpdmVzLCB3aXRoTW9kaWZpZXJzIGFzIF93aXRoTW9kaWZpZXJzLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCB3aXRoU2NvcGVJZCBhcyBfd2l0aFNjb3BlSWQsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgp2YXIgX3dpdGhJZCA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoImRhdGEtdi0yNjA4NGRjMiIpOwoKX3B1c2hTY29wZUlkKCJkYXRhLXYtMjYwODRkYzIiKTsKCnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiZmxleC0xIgp9OwoKdmFyIF9ob2lzdGVkXzIgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJoMSIsIG51bGwsICJKb2luIENoYXRyb29tIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzMgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJidXR0b24iLCB7CiAgdHlwZTogInN1Ym1pdCIsCiAgY2xhc3M6ICJqb2luLWJ0biIKfSwgIkpvaW4iLCAtMQovKiBIT0lTVEVEICovCik7CgpfcG9wU2NvcGVJZCgpOwoKZXhwb3J0IHZhciByZW5kZXIgPSAvKiNfX1BVUkVfXyovX3dpdGhJZChmdW5jdGlvbiAoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBudWxsLCBbX2NyZWF0ZVZOb2RlKCJmb3JtIiwgewogICAgb25TdWJtaXQ6IF9jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gX3dpdGhNb2RpZmllcnMoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJG9wdGlvbnMubG9naW4gJiYgJG9wdGlvbnMubG9naW4uYXBwbHkoJG9wdGlvbnMsIGFyZ3VtZW50cyk7CiAgICB9LCBbInByZXZlbnQiXSkpLAogICAgY2xhc3M6ICJsb2dpbi1hcmVhIgogIH0sIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzEsIFtfaG9pc3RlZF8yLCBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZVZOb2RlKCJpbnB1dCIsIHsKICAgIHR5cGU6ICJ0ZXh0IiwKICAgIGNsYXNzOiAiZm9ybS1pbnB1dCIsCiAgICBwbGFjZWhvbGRlcjogIlVzZXJuYW1lIiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiBfY3R4Lm5hbWUgPSAkZXZlbnQ7CiAgICB9KSwKICAgIG5hbWU6ICJuYW1lIgogIH0sIG51bGwsIDUxMgogIC8qIE5FRURfUEFUQ0ggKi8KICApLCBbW192TW9kZWxUZXh0LCBfY3R4Lm5hbWUsIHZvaWQgMCwgewogICAgdHJpbTogdHJ1ZQogIH1dXSksIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlVk5vZGUoImlucHV0IiwgewogICAgdHlwZTogInRleHQiLAogICAgY2xhc3M6ICJmb3JtLWlucHV0IiwKICAgIHBsYWNlaG9sZGVyOiAiUm9vbUlEIiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiBfY3R4LnJvb21JZCA9ICRldmVudDsKICAgIH0pLAogICAgbmFtZTogInJvb21JZCIKICB9LCBudWxsLCA1MTIKICAvKiBORUVEX1BBVENIICovCiAgKSwgW1tfdk1vZGVsVGV4dCwgX2N0eC5yb29tSWQsIHZvaWQgMCwgewogICAgdHJpbTogdHJ1ZQogIH1dXSldKSwgX2hvaXN0ZWRfM10sIDMyCiAgLyogSFlEUkFURV9FVkVOVFMgKi8KICApXSk7Cn0pOw=="},{"version":3,"sources":["E:\\projects\\chat-app\\vue-pwa-tutorial\\src\\views\\Login.vue"],"names":[],"mappings":";;;;;;;;AAGW,EAAA,KAAK,EAAC;;;8BACT,YAAA,CAAsB,IAAtB,EAAsB,IAAtB,EAAI,eAAJ,EAAiB,CAAA;AAAA;AAAjB,C;;8BAIF,YAAA,CAAoD,QAApD,EAAoD;AAA5C,EAAA,IAAI,EAAC,QAAuC;AAA9B,EAAA,KAAK,EAAC;AAAwB,CAApD,EAAuC,MAAvC,EAA2C,CAAA;AAAA;AAA3C,C;;;;;uBAPJ,YAAA,CASM,KATN,EASM,IATN,EASM,CARJ,YAAA,CAOO,MAPP,EAOO;AAPA,IAAA,QAAM,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,cAAA,CAAA;AAAA,aAAU,QAAA,CAAA,KAAA,IAAA,QAAA,CAAA,KAAA,OAAA,QAAA,YAAV;AAAA,KAAA,EAAe,CAAA,SAAA,CAAf,CAAA,CAON;AAPuB,IAAA,KAAK,EAAC;AAO7B,GAPP,E,CACE,YAAA,CAIM,KAJN,EAAA,UAAA,EAIM,CAHJ,UAGI,E,gBAFJ,YAAA,CAA6F,OAA7F,EAA6F;AAAtF,IAAA,IAAI,EAAC,MAAiF;AAA1E,IAAA,KAAK,EAAC,YAAoE;AAAvD,IAAA,WAAW,EAAC,UAA2C;;aAAlB,IAAA,CAAA,IAAA,GAAI,M;MAAc;AAAZ,IAAA,IAAI,EAAC;AAAO,GAA7F,E,IAAA,E;;AAAA,G,iBAA2E,IAAA,CAAA,I;UAAd;MAEzD,E,gBADJ,YAAA,CAA+F,OAA/F,EAA+F;AAAxF,IAAA,IAAI,EAAC,MAAmF;AAA5E,IAAA,KAAK,EAAC,YAAsE;AAAzD,IAAA,WAAW,EAAC,QAA6C;;aAAtB,IAAA,CAAA,MAAA,GAAM,M;MAAgB;AAAd,IAAA,IAAI,EAAC;AAAS,GAA/F,E,IAAA,E;;AAAA,G,iBAAyE,IAAA,CAAA,M;UAAd;MACvD,CAJN,C,EAKA,U,CANF,E;;AAAA,GAQI,CATN,C","sourcesContent":["<template>\n  <div>\n    <form @submit.prevent=\"login\" class=\"login-area\">\n      <div class=\"flex-1\">\n        <h1>Join Chatroom</h1>\n        <input type=\"text\" class=\"form-input\" placeholder=\"Username\" v-model.trim=\"name\" name=\"name\">\n        <input type=\"text\" class=\"form-input\" placeholder=\"RoomID\" v-model.trim=\"roomId\" name=\"roomId\">\n      </div>\n      <button type=\"submit\" class=\"join-btn\">Join</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { mapActions, mapGetters } from 'vuex';\nexport default {\n  name: 'Login',\n  data: function() {\n      return {\n          name: '',\n          roomId: '',\n          token: ''\n      };\n  },\n  computed: {\n      ...mapGetters(['getUser', 'getRoom', 'getServerUrl'])\n  },\n  created() {\n    if(this.getUser){\n      this.name = this.getUser.name\n      this.token = this.getUser.token\n    }\n    if(this.getRoom){\n      this.roomId = this.getRoom.id\n    }\n  },\n  methods: {\n    ...mapActions(['setUser', 'setAuth', 'setRoom']),\n    login() {\n      if (this.name && this.roomId) {\n          axios.post(this.getServerUrl + '/api/join-room', {\n            name: this.name,\n            roomId: this.roomId,\n            token: this.token\n          }).then(res => {\n            if (res.data.msg) {\n              this.$store.dispatch('setShowModel', true);\n              this.$store.dispatch('setMessageModel', res.data.msg);\n            } else {\n              this.$store.dispatch('setAuth', true);\n              this.$store.dispatch('setUser', res.data.user);\n              this.$store.dispatch('setRoom', res.data.room);\n              this.$router.push({\n                  name: 'ChatRoom'\n              });\n            }\n          });\n      } else {\n        this.$store.dispatch('setShowModel', true);\n        this.$store.dispatch('setMessageModel', \"Username or RoomID cann't empty!\");\n      }\n    }\n  }\n}\n</script>\n<style scoped>\n  .login-area{\n    padding-left: 16px;\n    padding-right: 16px;\n    height: calc(100vh - 60px);\n    display: flex;\n    flex-direction: column;\n  }\n  .login-area .flex-1{\n    flex: 1;\n  }\n  .login-area h1 {\n    font-weight: 600;\n    font-size: 30px;\n    line-height: 36px;\n    color: #000000;\n    margin-bottom: 32px;\n  }\n  .login-area input.form-input {\n    background: #f6f6f6;\n    border: 1px solid #e8e8e8;\n    box-sizing: border-box;\n    border-radius: 8px;\n    width: 100%;\n    height: 50px;\n    padding: 16px;\n    margin-bottom: 16px;\n  }\n  .login-area .join-btn{\n    text-transform: uppercase;\n    margin-bottom: 60px;\n    height: 50px;\n    background: #5DB075;\n    border-radius: 100px;\n    padding: 16px 32px;\n    color: #ffffff;\n    font-weight: 600;\n    font-size: 16px;\n    border: 0;\n    cursor: pointer;\n  }\n  .login-area .join-btn:hover{\n    opacity: 0.8;\n  }\n</style>"],"sourceRoot":""}]}