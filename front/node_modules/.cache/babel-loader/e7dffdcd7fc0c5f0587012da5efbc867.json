{"remainingRequest":"E:\\projects\\chat-app\\source\\front\\node_modules\\babel-loader\\lib\\index.js!E:\\projects\\chat-app\\source\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\projects\\chat-app\\source\\front\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\projects\\chat-app\\source\\front\\src\\views\\ChatRoom.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\projects\\chat-app\\source\\front\\src\\views\\ChatRoom.vue","mtime":1627028708549},{"path":"E:\\projects\\chat-app\\source\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\projects\\chat-app\\source\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\projects\\chat-app\\source\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\projects\\chat-app\\source\\front\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovcHJvamVjdHMvY2hhdC1hcHAvc291cmNlL2Zyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IE1lc3NhZ2VMaXN0IGZyb20gJ0AvY29tcG9uZW50cy9NZXNzYWdlTGlzdC52dWUnOwppbXBvcnQgVGV4dGluZ0lucHV0IGZyb20gJ0AvY29tcG9uZW50cy9UZXh0aW5nSW5wdXQudnVlJzsKaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgaW8gZnJvbSAnc29ja2V0LmlvLWNsaWVudCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ2hhdFJvb20nLAogIGNvbXBvbmVudHM6IHsKICAgIE1lc3NhZ2VMaXN0OiBNZXNzYWdlTGlzdCwKICAgIFRleHRpbmdJbnB1dDogVGV4dGluZ0lucHV0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcm9vbTogW10sCiAgICAgIHVzZXJzOiBbXSwKICAgICAgbWVzc2FnZXM6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydnZXRVc2VyJywgJ2dldFJvb20nLCAnZ2V0U29ja2V0JywgJ2dldFNlcnZlclByb3h5J10pKSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWydzZXRBdXRoJywgJ3NldFNvY2tldCddKSksIHt9LCB7CiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldEF1dGgnLCBmYWxzZSk7CiAgICAgIHRoaXMuZ2V0U29ja2V0LmVtaXQoJ2xlYXZlUm9vbScsIHsKICAgICAgICByb29tSWQ6IHRoaXMuZ2V0Um9vbS5faWQKICAgICAgfSk7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXRTb2NrZXQnLCBudWxsKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdMb2dpbicKICAgICAgfSk7CiAgICB9LAogICAgY29ubmVjdFNvY2tldDogZnVuY3Rpb24gY29ubmVjdFNvY2tldCgpIHsKICAgICAgdmFyIHNvY2tldCA9IGlvKHRoaXMuZ2V0U2VydmVyUHJveHksIHsKICAgICAgICBzZWN1cmU6IHRydWUsCiAgICAgICAgcmVjb25uZWN0OiB0cnVlLAogICAgICAgIHJlamVjdFVuYXV0aG9yaXplZDogZmFsc2UKICAgICAgfSk7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXRTb2NrZXQnLCBzb2NrZXQpOwogICAgfQogIH0pLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuY29ubmVjdFNvY2tldCgpOwogICAgdGhpcy5nZXRTb2NrZXQuZW1pdCgnam9pblJvb20nLCB7CiAgICAgIHJvb21JZDogdGhpcy5nZXRSb29tLl9pZAogICAgfSk7CiAgICB0aGlzLmdldFNvY2tldC5vbignbWVzc2FnZXMnLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBfdGhpcy5tZXNzYWdlcyA9IF90aGlzLm1lc3NhZ2VzLmNvbmNhdChkYXRhLnJldmVyc2UoKSk7CiAgICB9KTsKICAgIHRoaXMuZ2V0U29ja2V0Lm9uKCdtb3JlTWVzc2FnZXMnLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBfdGhpcy5tZXNzYWdlcyA9IGRhdGEucmV2ZXJzZSgpLmNvbmNhdChfdGhpcy5tZXNzYWdlcyk7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["E:\\projects\\chat-app\\source\\front\\src\\views\\ChatRoom.vue"],"names":[],"mappings":";;AAYA,OAAO,WAAP,MAAwB,8BAAxB;AACA,OAAO,YAAP,MAAyB,+BAAzB;AACA,SAAS,UAAT,EAAqB,UAArB,QAAuC,MAAvC;AACA,OAAO,EAAP,MAAe,kBAAf;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,UADO;AAEb,EAAA,UAAU,EAAE;AACR,IAAA,WAAW,EAAX,WADQ;AAER,IAAA,YAAW,EAAX;AAFQ,GAFC;AAMb,EAAA,IAAI,EAAE,gBAAW;AACb,WAAO;AACH,MAAA,IAAI,EAAE,EADH;AAEH,MAAA,KAAK,EAAE,EAFJ;AAGH,MAAA,QAAQ,EAAE;AAHP,KAAP;AAKH,GAZY;AAab,EAAA,QAAQ,oBACD,UAAU,CAAC,CAAC,SAAD,EAAY,SAAZ,EAAuB,WAAvB,EAAoC,gBAApC,CAAD,CADT,CAbK;AAgBb,EAAA,OAAO,kCACF,UAAU,CAAC,CAAC,SAAD,EAAY,WAAZ,CAAD,CADR;AAEL,IAAA,MAFK,oBAEI;AACP,WAAK,MAAL,CAAY,QAAZ,CAAqB,SAArB,EAAgC,KAAhC;AACA,WAAK,SAAL,CAAe,IAAf,CAAoB,WAApB,EAAiC;AAC/B,QAAA,MAAM,EAAE,KAAK,OAAL,CAAa;AADU,OAAjC;AAGA,WAAK,MAAL,CAAY,QAAZ,CAAqB,WAArB,EAAkC,IAAlC;AACA,WAAK,OAAL,CAAa,IAAb,CAAkB;AAChB,QAAA,IAAI,EAAE;AADU,OAAlB;AAGD,KAXI;AAYL,IAAA,aAZK,2BAYW;AACd,UAAI,MAAK,GAAI,EAAE,CAAC,KAAK,cAAN,EAAsB;AACnC,QAAA,MAAM,EAAE,IAD2B;AAEnC,QAAA,SAAS,EAAE,IAFwB;AAGnC,QAAA,kBAAiB,EAAI;AAHc,OAAtB,CAAf;AAKA,WAAK,MAAL,CAAY,QAAZ,CAAqB,WAArB,EAAkC,MAAlC;AACF;AAnBK,IAhBM;AAqCb,EAAA,OArCa,qBAqCH;AAAA;;AACR,SAAK,aAAL;AACA,SAAK,SAAL,CAAe,IAAf,CAAoB,UAApB,EAAgC;AAC9B,MAAA,MAAM,EAAE,KAAK,OAAL,CAAa;AADS,KAAhC;AAGA,SAAK,SAAL,CAAe,EAAf,CAAkB,UAAlB,EAA8B,UAAA,IAAG,EAAK;AACpC,MAAA,KAAI,CAAC,QAAL,GAAgB,KAAI,CAAC,QAAL,CAAc,MAAd,CAAqB,IAAI,CAAC,OAAL,EAArB,CAAhB;AACD,KAFD;AAGA,SAAK,SAAL,CAAe,EAAf,CAAkB,cAAlB,EAAkC,UAAA,IAAG,EAAK;AACxC,MAAA,KAAI,CAAC,QAAL,GAAgB,IAAI,CAAC,OAAL,GAAe,MAAf,CAAsB,KAAI,CAAC,QAA3B,CAAhB;AACD,KAFD;AAGF;AAhDa,CAAf","sourcesContent":["<template>\n  <div class=\"chat-area\">\n    <div class=\"chat-header\">\n      <a class=\"exit-btn\" @click=\"logout\">Exit</a>\n      <h1>{{getRoom.id}}</h1>\n    </div>\n    <MessageList :messages=\"messages\" />\n    <TextingInput />\n  </div>\n</template>\n\n<script>\nimport MessageList from '@/components/MessageList.vue';\nimport TextingInput from '@/components/TextingInput.vue';\nimport { mapActions, mapGetters } from 'vuex';\nimport io from 'socket.io-client';\n\nexport default {\n  name: 'ChatRoom',\n  components: {\n      MessageList,\n      TextingInput\n  },\n  data: function() {\n      return {\n          room: [],\n          users: [],\n          messages: []\n      };\n  },\n  computed: {\n      ...mapGetters(['getUser', 'getRoom', 'getSocket', 'getServerProxy'])\n  },\n  methods: {\n    ...mapActions(['setAuth', 'setSocket']),\n    logout() {\n      this.$store.dispatch('setAuth', false);\n      this.getSocket.emit('leaveRoom', {\n        roomId: this.getRoom._id\n      });\n      this.$store.dispatch('setSocket', null);\n      this.$router.push({\n        name: 'Login'\n      });\n    },\n    connectSocket() {\n      var socket = io(this.getServerProxy, {\n        secure: true,\n        reconnect: true,\n        rejectUnauthorized : false\n      });\n      this.$store.dispatch('setSocket', socket);\n    }\n  },\n  created() {\n    this.connectSocket();\n    this.getSocket.emit('joinRoom', {\n      roomId: this.getRoom._id\n    });\n    this.getSocket.on('messages', data => {\n      this.messages = this.messages.concat(data.reverse()); \n    });\n    this.getSocket.on('moreMessages', data => {\n      this.messages = data.reverse().concat(this.messages); \n    });\n  }\n}\n</script>"],"sourceRoot":""}]}