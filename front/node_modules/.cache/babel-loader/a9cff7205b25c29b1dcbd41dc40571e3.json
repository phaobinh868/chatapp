{"remainingRequest":"E:\\projects\\chat-app\\front\\node_modules\\babel-loader\\lib\\index.js!E:\\projects\\chat-app\\front\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\projects\\chat-app\\front\\src\\main.js","dependencies":[{"path":"E:\\projects\\chat-app\\front\\src\\main.js","mtime":1626882004076},{"path":"E:\\projects\\chat-app\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\projects\\chat-app\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\projects\\chat-app\\front\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJFOlxccHJvamVjdHNcXGNoYXQtYXBwXFxmcm9udFxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5hcnJheS5pdGVyYXRvci5qcyI7CmltcG9ydCAiRTpcXHByb2plY3RzXFxjaGF0LWFwcFxcZnJvbnRcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMucHJvbWlzZS5qcyI7CmltcG9ydCAiRTpcXHByb2plY3RzXFxjaGF0LWFwcFxcZnJvbnRcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMub2JqZWN0LmFzc2lnbi5qcyI7CmltcG9ydCAiRTpcXHByb2plY3RzXFxjaGF0LWFwcFxcZnJvbnRcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMucHJvbWlzZS5maW5hbGx5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IEFwcCBmcm9tICcuL0FwcC52dWUnOwppbXBvcnQgcm91dGVyIGZyb20gJy4vcm91dGVycyc7CmltcG9ydCBzdG9yZSBmcm9tICcuL3N0b3Jlcyc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBpbyBmcm9tICdzb2NrZXQuaW8tY2xpZW50JzsKaW1wb3J0IHNldEF1dGhUb2tlbiBmcm9tICcuL3V0aWxzL2F1dGhUb2tlbic7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKVnVlLmNvbmZpZy5wcm9kdWN0aW9uVGlwID0gZmFsc2U7ClZ1ZS5wcm90b3R5cGUubW9tZW50ID0gbW9tZW50Owp2YXIgc29ja2V0ID0gbnVsbDsKCmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JykgewogIHNvY2tldCA9IGlvKCdodHRwOi8vbG9jYWxob3N0OjgwODAnKTsKfSBlbHNlIHsKICBzb2NrZXQgPSBpbygnLycpOwp9CgpzdG9yZS5kaXNwYXRjaCgnYXNzaWduU29ja2V0Jywgc29ja2V0KTsKLyoqIENoZWNrIGZvciBhdXRoIHRva2VuIG9uIHJlZnJlc2ggYW5kIHNldCBhdXRob3JpemF0aW9uIGhlYWRlciBmb3IgaW5jb21pbmcgcmVxdWVzdHMgKi8KCmlmIChsb2NhbFN0b3JhZ2UuYXV0aFRva2VuKSB7CiAgc2V0QXV0aFRva2VuKGxvY2FsU3RvcmFnZS5hdXRoVG9rZW4pOwp9IGVsc2UgewogIHNldEF1dGhUb2tlbihudWxsKTsKfQovKiogQXhpb3MgUmVxdWVzdCBJbnRlcmNlcHQgKi8KCgpheGlvcy5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnIpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTsKfSk7Ci8qKiBBeGlvcyBSZXNwb25zZSBJbnRlcmNlcHQgKi8KCmF4aW9zLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgcmV0dXJuIHJlc3BvbnNlOwp9LCBmdW5jdGlvbiAoZXJyKSB7CiAgaWYgKGVyci5yZXNwb25zZS5zdGF0dXMgPT09IDQwMSkgewogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2F1dGhUb2tlbicpOwogICAgc3RvcmUuZGlzcGF0Y2goJ3RvZ2dsZUF1dGhTdGF0ZScsIGZhbHNlKTsKICAgIHJvdXRlci5wdXNoKHsKICAgICAgbmFtZTogJ0xvZ2luJywKICAgICAgcGFyYW1zOiB7CiAgICAgICAgbWVzc2FnZTogJ1Nlc3Npb24gaGFzIGV4cGlyZWQsIHBsZWFzZSBsb2dpbiBhZ2FpbicKICAgICAgfQogICAgfSk7CiAgfQoKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTsKfSk7Cm5ldyBWdWUoewogIHJvdXRlcjogcm91dGVyLAogIHN0b3JlOiBzdG9yZSwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7CiAgICByZXR1cm4gaChBcHApOwogIH0KfSkuJG1vdW50KCcjYXBwJyk7"},{"version":3,"sources":["E:/projects/chat-app/front/src/main.js"],"names":["Vue","App","router","store","axios","io","setAuthToken","moment","config","productionTip","prototype","socket","process","env","NODE_ENV","dispatch","localStorage","authToken","interceptors","request","use","err","Promise","reject","response","status","removeItem","push","name","params","message","render","h","$mount"],"mappings":";;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,EAAP,MAAe,kBAAf;AACA,OAAOC,YAAP,MAAyB,mBAAzB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAEAP,GAAG,CAACQ,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AACAT,GAAG,CAACU,SAAJ,CAAcH,MAAd,GAAuBA,MAAvB;AAEA,IAAII,MAAM,GAAG,IAAb;;AAEA,IAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AACxCH,EAAAA,MAAM,GAAGN,EAAE,CAAC,uBAAD,CAAX;AACH,CAFD,MAEO;AACHM,EAAAA,MAAM,GAAGN,EAAE,CAAC,GAAD,CAAX;AACH;;AAEDF,KAAK,CAACY,QAAN,CAAe,cAAf,EAA+BJ,MAA/B;AAEA;;AACA,IAAIK,YAAY,CAACC,SAAjB,EAA4B;AACxBX,EAAAA,YAAY,CAACU,YAAY,CAACC,SAAd,CAAZ;AACH,CAFD,MAEO;AACHX,EAAAA,YAAY,CAAC,IAAD,CAAZ;AACH;AAED;;;AACAF,KAAK,CAACc,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CACI,UAASZ,MAAT,EAAiB;AACb,SAAOA,MAAP;AACH,CAHL,EAII,UAASa,GAAT,EAAc;AACV,SAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACH,CANL;AASA;;AACAjB,KAAK,CAACc,YAAN,CAAmBM,QAAnB,CAA4BJ,GAA5B,CACI,UAASI,QAAT,EAAmB;AACf,SAAOA,QAAP;AACH,CAHL,EAII,UAASH,GAAT,EAAc;AACV,MAAIA,GAAG,CAACG,QAAJ,CAAaC,MAAb,KAAwB,GAA5B,EAAiC;AAC7BT,IAAAA,YAAY,CAACU,UAAb,CAAwB,WAAxB;AACAvB,IAAAA,KAAK,CAACY,QAAN,CAAe,iBAAf,EAAkC,KAAlC;AACAb,IAAAA,MAAM,CAACyB,IAAP,CAAY;AACRC,MAAAA,IAAI,EAAE,OADE;AAERC,MAAAA,MAAM,EAAE;AAAEC,QAAAA,OAAO,EAAE;AAAX;AAFA,KAAZ;AAIH;;AACD,SAAOR,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACH,CAdL;AAiBA,IAAIrB,GAAJ,CAAQ;AACJE,EAAAA,MAAM,EAANA,MADI;AAEJC,EAAAA,KAAK,EAALA,KAFI;AAGJ4B,EAAAA,MAAM,EAAE,gBAAAC,CAAC;AAAA,WAAIA,CAAC,CAAC/B,GAAD,CAAL;AAAA;AAHL,CAAR,EAIGgC,MAJH,CAIU,MAJV","sourcesContent":["import Vue from 'vue';\nimport App from './App.vue';\nimport router from './routers';\nimport store from './stores';\nimport axios from 'axios';\nimport io from 'socket.io-client';\nimport setAuthToken from './utils/authToken';\nimport moment from 'moment';\n\nVue.config.productionTip = false;\nVue.prototype.moment = moment;\n\nlet socket = null;\n\nif (process.env.NODE_ENV === 'development') {\n    socket = io('http://localhost:8080');\n} else {\n    socket = io('/');\n}\n\nstore.dispatch('assignSocket', socket);\n\n/** Check for auth token on refresh and set authorization header for incoming requests */\nif (localStorage.authToken) {\n    setAuthToken(localStorage.authToken);\n} else {\n    setAuthToken(null);\n}\n\n/** Axios Request Intercept */\naxios.interceptors.request.use(\n    function(config) {\n        return config;\n    },\n    function(err) {\n        return Promise.reject(err);\n    }\n);\n\n/** Axios Response Intercept */\naxios.interceptors.response.use(\n    function(response) {\n        return response;\n    },\n    function(err) {\n        if (err.response.status === 401) {\n            localStorage.removeItem('authToken');\n            store.dispatch('toggleAuthState', false);\n            router.push({\n                name: 'Login',\n                params: { message: 'Session has expired, please login again' }\n            });\n        }\n        return Promise.reject(err);\n    }\n);\n\nnew Vue({\n    router,\n    store,\n    render: h => h(App)\n}).$mount('#app');"]}]}