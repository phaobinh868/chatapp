{"remainingRequest":"E:\\projects\\chat-app\\source\\front\\node_modules\\babel-loader\\lib\\index.js!E:\\projects\\chat-app\\source\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\projects\\chat-app\\source\\front\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\projects\\chat-app\\source\\front\\src\\views\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\projects\\chat-app\\source\\front\\src\\views\\Login.vue","mtime":1627017974896},{"path":"E:\\projects\\chat-app\\source\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\projects\\chat-app\\source\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\projects\\chat-app\\source\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\projects\\chat-app\\source\\front\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovcHJvamVjdHMvY2hhdC1hcHAvc291cmNlL2Zyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2dpbicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6ICcnLAogICAgICByb29tSWQ6ICcnLAogICAgICB0b2tlbjogJycKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbJ2dldFVzZXInLCAnZ2V0Um9vbScsICdnZXRTZXJ2ZXJVcmwnXSkpLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy5nZXRVc2VyKSB7CiAgICAgIHRoaXMubmFtZSA9IHRoaXMuZ2V0VXNlci5uYW1lOwogICAgICB0aGlzLnRva2VuID0gdGhpcy5nZXRVc2VyLnRva2VuOwogICAgfQoKICAgIGlmICh0aGlzLmdldFJvb20pIHsKICAgICAgdGhpcy5yb29tSWQgPSB0aGlzLmdldFJvb20uaWQ7CiAgICB9CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWydzZXRVc2VyJywgJ3NldEF1dGgnLCAnc2V0Um9vbSddKSksIHt9LCB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5uYW1lICYmIHRoaXMucm9vbUlkKSB7CiAgICAgICAgYXhpb3MucG9zdCh0aGlzLmdldFNlcnZlclVybCArICcvYXBpL2pvaW4tcm9vbScsIHsKICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSwKICAgICAgICAgIHJvb21JZDogdGhpcy5yb29tSWQsCiAgICAgICAgICB0b2tlbjogdGhpcy50b2tlbgogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5kYXRhLm1zZykgewogICAgICAgICAgICBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldFNob3dNb2RlbCcsIHRydWUpOwoKICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXRNZXNzYWdlTW9kZWwnLCByZXMuZGF0YS5tc2cpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXRBdXRoJywgdHJ1ZSk7CgogICAgICAgICAgICBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldFVzZXInLCByZXMuZGF0YS51c2VyKTsKCiAgICAgICAgICAgIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2V0Um9vbScsIHJlcy5kYXRhLnJvb20pOwoKICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICBuYW1lOiAnQ2hhdFJvb20nCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXRTaG93TW9kZWwnLCB0cnVlKTsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2V0TWVzc2FnZU1vZGVsJywgIlVzZXJuYW1lIG9yIFJvb21JRCBjYW5uJ3QgZW1wdHkhIik7CiAgICAgIH0KICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["E:\\projects\\chat-app\\source\\front\\src\\views\\Login.vue"],"names":[],"mappings":";;AAcA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,UAAT,EAAqB,UAArB,QAAuC,MAAvC;AACA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,IAAI,EAAE,gBAAW;AACb,WAAO;AACH,MAAA,IAAI,EAAE,EADH;AAEH,MAAA,MAAM,EAAE,EAFL;AAGH,MAAA,KAAK,EAAE;AAHJ,KAAP;AAKH,GARY;AASb,EAAA,QAAQ,oBACD,UAAU,CAAC,CAAC,SAAD,EAAY,SAAZ,EAAuB,cAAvB,CAAD,CADT,CATK;AAYb,EAAA,OAZa,qBAYH;AACR,QAAG,KAAK,OAAR,EAAgB;AACd,WAAK,IAAL,GAAY,KAAK,OAAL,CAAa,IAAzB;AACA,WAAK,KAAL,GAAa,KAAK,OAAL,CAAa,KAA1B;AACF;;AACA,QAAG,KAAK,OAAR,EAAgB;AACd,WAAK,MAAL,GAAc,KAAK,OAAL,CAAa,EAA3B;AACF;AACD,GApBY;AAqBb,EAAA,OAAO,kCACF,UAAU,CAAC,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,CAAD,CADR;AAEL,IAAA,KAFK,mBAEG;AAAA;;AACN,UAAI,KAAK,IAAL,IAAa,KAAK,MAAtB,EAA8B;AAC1B,QAAA,KAAK,CAAC,IAAN,CAAW,KAAK,YAAL,GAAoB,gBAA/B,EAAiD;AAC/C,UAAA,IAAI,EAAE,KAAK,IADoC;AAE/C,UAAA,MAAM,EAAE,KAAK,MAFkC;AAG/C,UAAA,KAAK,EAAE,KAAK;AAHmC,SAAjD,EAIG,IAJH,CAIQ,UAAA,GAAE,EAAK;AACb,cAAI,GAAG,CAAC,IAAJ,CAAS,GAAb,EAAkB;AAChB,YAAA,KAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,cAArB,EAAqC,IAArC;;AACA,YAAA,KAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,iBAArB,EAAwC,GAAG,CAAC,IAAJ,CAAS,GAAjD;AACF,WAHA,MAGO;AACL,YAAA,KAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,SAArB,EAAgC,IAAhC;;AACA,YAAA,KAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,SAArB,EAAgC,GAAG,CAAC,IAAJ,CAAS,IAAzC;;AACA,YAAA,KAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,SAArB,EAAgC,GAAG,CAAC,IAAJ,CAAS,IAAzC;;AACA,YAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AACd,cAAA,IAAI,EAAE;AADQ,aAAlB;AAGF;AACD,SAhBD;AAiBJ,OAlBA,MAkBO;AACL,aAAK,MAAL,CAAY,QAAZ,CAAqB,cAArB,EAAqC,IAArC;AACA,aAAK,MAAL,CAAY,QAAZ,CAAqB,iBAArB,EAAwC,kCAAxC;AACF;AACF;AAzBK;AArBM,CAAf","sourcesContent":["<template>\n  <div>\n    <form @submit.prevent=\"login\" class=\"login-area\">\n      <div class=\"flex-1\">\n        <h1>Join Chatroom</h1>\n        <input type=\"text\" class=\"form-input\" placeholder=\"Username\" v-model.trim=\"name\" name=\"name\">\n        <input type=\"text\" class=\"form-input\" placeholder=\"RoomID\" v-model.trim=\"roomId\" name=\"roomId\">\n      </div>\n      <button type=\"submit\" class=\"join-btn\">Join</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { mapActions, mapGetters } from 'vuex';\nexport default {\n  name: 'Login',\n  data: function() {\n      return {\n          name: '',\n          roomId: '',\n          token: ''\n      };\n  },\n  computed: {\n      ...mapGetters(['getUser', 'getRoom', 'getServerUrl'])\n  },\n  created() {\n    if(this.getUser){\n      this.name = this.getUser.name\n      this.token = this.getUser.token\n    }\n    if(this.getRoom){\n      this.roomId = this.getRoom.id\n    }\n  },\n  methods: {\n    ...mapActions(['setUser', 'setAuth', 'setRoom']),\n    login() {\n      if (this.name && this.roomId) {\n          axios.post(this.getServerUrl + '/api/join-room', {\n            name: this.name,\n            roomId: this.roomId,\n            token: this.token\n          }).then(res => {\n            if (res.data.msg) {\n              this.$store.dispatch('setShowModel', true);\n              this.$store.dispatch('setMessageModel', res.data.msg);\n            } else {\n              this.$store.dispatch('setAuth', true);\n              this.$store.dispatch('setUser', res.data.user);\n              this.$store.dispatch('setRoom', res.data.room);\n              this.$router.push({\n                  name: 'ChatRoom'\n              });\n            }\n          });\n      } else {\n        this.$store.dispatch('setShowModel', true);\n        this.$store.dispatch('setMessageModel', \"Username or RoomID cann't empty!\");\n      }\n    }\n  }\n}\n</script>\n<style scoped>\n  .login-area{\n    padding-left: 16px;\n    padding-right: 16px;\n    height: calc(100vh - 60px);\n    display: flex;\n    flex-direction: column;\n  }\n  .login-area .flex-1{\n    flex: 1;\n  }\n  .login-area h1 {\n    font-weight: 600;\n    font-size: 30px;\n    line-height: 36px;\n    color: #000000;\n    margin-bottom: 32px;\n  }\n  .login-area input.form-input {\n    background: #f6f6f6;\n    border: 1px solid #e8e8e8;\n    box-sizing: border-box;\n    border-radius: 8px;\n    width: 100%;\n    height: 50px;\n    padding: 16px;\n    margin-bottom: 16px;\n  }\n  .login-area .join-btn{\n    text-transform: uppercase;\n    margin-bottom: 60px;\n    height: 50px;\n    background: #5DB075;\n    border-radius: 100px;\n    padding: 16px 32px;\n    color: #ffffff;\n    font-weight: 600;\n    font-size: 16px;\n    border: 0;\n    cursor: pointer;\n  }\n  .login-area .join-btn:hover{\n    opacity: 0.8;\n  }\n</style>"],"sourceRoot":""}]}