{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/images/send-icon.png","webpack:///./src/App.vue?2710","webpack:///./src/App.vue","webpack:///./src/components/Model.vue","webpack:///./src/components/Model.vue?ddc6","webpack:///./src/App.vue?dfb6","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?e63b","webpack:///./src/views/ChatRoom.vue","webpack:///./src/components/MessageList.vue","webpack:///./src/components/Message.vue","webpack:///./src/components/Message.vue?a162","webpack:///./src/components/MessageList.vue?11e3","webpack:///./src/components/TextingInput.vue","webpack:///./src/components/TextingInput.vue?a91c","webpack:///./src/views/ChatRoom.vue?4bda","webpack:///./src/views/PageNotFound.vue","webpack:///./src/views/PageNotFound.vue?fad0","webpack:///./src/router/index.ts","webpack:///./src/store/index.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","id","class","getModalShow","getModalMessage","closeModal","computed","methods","this","$store","dispatch","render","windowHeight","innerHeight","components","Model","mounted","$nextTick","addEventListener","onResize","unmount","removeEventListener","document","querySelector","style","height","type","login","placeholder","roomId","token","created","getUser","getRoom","a","post","getServerUrl","then","res","msg","user","room","$router","logout","messages","ref","message","_id","mine","content","props","scrollArea","loaded","lastCreatedAt","timeoutScroll","Message","scrollToLast","scrollTop","scrollHeight","clientHeight","handleScroll","clearTimeout","setTimeout","getSocket","emit","$refs","updated","createdAt","unmounted","src","alt","onKeyUp","createMessage","textingArea","userId","focusTextingArea","e","preventDefault","keyCode","shiftKey","focus","MessageList","TextingInput","users","connectSocket","socket","getServerProxy","secure","reconnect","rejectUnauthorized","on","concat","reverse","routes","path","component","Login","ChatRoom","PageNotFound","router","history","beforeEach","to","from","next","localStorage","JSON","parse","auth","state","modalShow","modalMessage","serverUrl","serverProxy","getters","getAuth","mutations","USER","payload","AUTH","ROOM","SOCKET","MODEL_SHOW","MODEL_MESSAGE","SERVER_URL","SERVER_PROXY","actions","setUser","context","commit","setItem","stringify","setAuth","setRoom","setSocket","setShowModel","setMessageModel","setServerUrl","setServerProxy","store","defaults","headers","common","interceptors","request","use","config","err","Promise","reject","response","status","removeItem","params","App","mount"],"mappings":"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","file":"js/app.a7f0b8f7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQCAYAAAAiYZ4HAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABXSURBVHgB7ZDBDQAhCAQ3lyuE/pu66wR9SALIGv07CR/dAQKQUFXp9Y0SrHBhg0tFmEspnCdEqQiLE6Y/VF0sXTU0IezphXw5doAgeB4ccoUdXvL+M6EBofTfU/AarmkAAAAASUVORK5CYII=\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=0be7d895&lang=scss\"","<template>\n    <div id=\"app\">\n      <router-view/>\n      <Model />\n    </div>\n</template>\n<script>\nimport Model from '@/components/Model.vue';\nexport default {\n  name: 'App',\n  data() {\n    return {\n      windowHeight: window.innerHeight\n    }\n  },\n  components: {\n    Model\n  },\n  mounted() {\n      this.$nextTick(() => {\n          window.addEventListener('resize', this.onResize);\n      })\n      this.onResize();\n  },\n\n  unmount() { \n      window.removeEventListener('resize', this.onResize); \n  },\n\n  methods: {  \n      onResize() {\n          this.windowHeight = window.innerHeight\n          document.querySelector(\"body\").style.height = this.windowHeight + \"px\";\n      }\n  }\n}\n</script>\n<style lang=\"scss\">\n  @import \"@/assets/scss/app.scss\";\n</style>","<template>\r\n    <div class=\"modal\" :class=\"{'open': getModalShow}\">\r\n      <div class=\"modal-content\">\r\n          <p>{{getModalMessage}}</p>\r\n          <button @click=\"closeModal\" class=\"close-btn\">Close</button>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from 'vuex';\r\n\r\nexport default {\r\n    name: 'Modal',\r\n    computed: {\r\n        ...mapGetters(['getModalShow', 'getModalMessage'])\r\n    },\r\n    methods: {\r\n        ...mapActions(['setShowModel']),\r\n        closeModal() {\r\n            this.$store.dispatch('setShowModel', false);\r\n        }\r\n    }\r\n};\r\n</script>","import { render } from \"./Model.vue?vue&type=template&id=fb354dde\"\nimport script from \"./Model.vue?vue&type=script&lang=js\"\nexport * from \"./Model.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=0be7d895\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=0be7d895&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n  <div>\n    <form @submit.prevent=\"login\" class=\"login-area\">\n      <div class=\"flex-1\">\n        <h1>Join Chatroom</h1>\n        <input type=\"text\" class=\"form-input\" placeholder=\"Username\" v-model.trim=\"name\" name=\"name\">\n        <input type=\"text\" class=\"form-input\" placeholder=\"RoomID\" v-model.trim=\"roomId\" name=\"roomId\">\n      </div>\n      <button type=\"submit\" class=\"join-btn\">Join</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { mapActions, mapGetters } from 'vuex';\nexport default {\n  name: 'Login',\n  data: function() {\n      return {\n          name: '',\n          roomId: '',\n          token: ''\n      };\n  },\n  computed: {\n      ...mapGetters(['getUser', 'getRoom', 'getServerUrl'])\n  },\n  created() {\n    if(this.getUser){\n      this.name = this.getUser.name\n      this.token = this.getUser.token\n    }\n    if(this.getRoom){\n      this.roomId = this.getRoom.id\n    }\n  },\n  methods: {\n    ...mapActions(['setUser', 'setAuth', 'setRoom']),\n    login() {\n      if (this.name && this.roomId) {\n          axios.post(this.getServerUrl + '/api/join-room', {\n            name: this.name,\n            roomId: this.roomId,\n            token: this.token\n          }).then(res => {\n            if (res.data.msg) {\n              this.$store.dispatch('setShowModel', true);\n              this.$store.dispatch('setMessageModel', res.data.msg);\n            } else {\n              this.$store.dispatch('setAuth', true);\n              this.$store.dispatch('setUser', res.data.user);\n              this.$store.dispatch('setRoom', res.data.room);\n              this.$router.push({\n                  name: 'ChatRoom'\n              });\n            }\n          });\n      } else {\n        this.$store.dispatch('setShowModel', true);\n        this.$store.dispatch('setMessageModel', \"Username or RoomID cann't empty!\");\n      }\n    }\n  }\n}\n</script>","import { render } from \"./Login.vue?vue&type=template&id=477bc39f\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"chat-area\">\n    <div class=\"chat-header\">\n      <a class=\"exit-btn\" @click=\"logout\">Exit</a>\n      <h1>{{getRoom.id}}</h1>\n    </div>\n    <MessageList :messages=\"messages\" />\n    <TextingInput />\n  </div>\n</template>\n\n<script>\nimport MessageList from '@/components/MessageList.vue';\nimport TextingInput from '@/components/TextingInput.vue';\nimport { mapActions, mapGetters } from 'vuex';\nimport io from 'socket.io-client';\n\nexport default {\n  name: 'ChatRoom',\n  components: {\n      MessageList,\n      TextingInput\n  },\n  data: function() {\n      return {\n          room: [],\n          users: [],\n          messages: []\n      };\n  },\n  computed: {\n      ...mapGetters(['getUser', 'getRoom', 'getSocket', 'getServerProxy'])\n  },\n  methods: {\n    ...mapActions(['setAuth', 'setSocket']),\n    logout() {\n      this.$store.dispatch('setAuth', false);\n      this.getSocket.emit('leaveRoom', {\n        roomId: this.getRoom._id\n      });\n      this.$store.dispatch('setSocket', null);\n      this.$router.push({\n        name: 'Login'\n      });\n    },\n    connectSocket() {\n      var socket = io(this.getServerProxy, {\n        secure: true,\n        reconnect: true,\n        rejectUnauthorized : false\n      });\n      this.$store.dispatch('setSocket', socket);\n    }\n  },\n  created() {\n    this.connectSocket();\n    this.getSocket.emit('joinRoom', {\n      roomId: this.getRoom._id\n    });\n    this.getSocket.on('messages', data => {\n      this.messages = this.messages.concat(data.reverse()); \n    });\n    this.getSocket.on('moreMessages', data => {\n      this.messages = data.reverse().concat(this.messages); \n    });\n  }\n}\n</script>","<template>\r\n  <div class=\"flex-1 message-area\" ref=\"scrollArea\">\r\n    <template v-if=\"messages && messages.length\">\r\n    <Message v-for=\"message in messages\" :key=\"message._id\" :message=\"message\" :mine=\"message.user._id == getUser._id?true:false\" />\r\n    </template>\r\n    <p v-else>There are no messages yet</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport Message from \"@/components/Message.vue\";\r\n\r\nexport default {\r\n  name: \"MessageList\",\r\n  props: ['messages'],\r\n  data: function() {\r\n      return {\r\n          scrollArea: null,\r\n          loaded: false,\r\n          lastCreatedAt: null,\r\n          timeoutScroll: null\r\n      };\r\n  },\r\n  components: {\r\n    Message,\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"getUser\", \"getSocket\", \"getRoom\"])\r\n  },\r\n  methods: {\r\n    scrollToLast() {\r\n      this.scrollArea.scrollTop = this.scrollArea.scrollHeight - this.scrollArea.clientHeight;\r\n    },\r\n    handleScroll(){\r\n      clearTimeout(this.timeoutScroll);\r\n      if(this.scrollArea.scrollTop < 20 && this.scrollArea.scrollHeight - this.scrollArea.clientHeight > 0){\r\n        this.timeoutScroll = setTimeout(() => {\r\n            this.getSocket.emit('loadMoreMessage', {\r\n              roomId: this.getRoom._id,\r\n              lastCreatedAt: this.lastCreatedAt\r\n            });\r\n        }, 1000);\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.scrollArea = this.$refs.scrollArea;\r\n    this.scrollToLast();\r\n    this.scrollArea.addEventListener('scroll', this.handleScroll);\r\n  },\r\n  updated() {\r\n    if((this.scrollArea.scrollHeight - this.scrollArea.clientHeight)-this.scrollArea.scrollTop < 200 || !this.loaded) this.scrollToLast();\r\n    this.loaded = true;\r\n    if(this.messages.length) this.lastCreatedAt = this.messages[0].createdAt;\r\n  },\r\n  unmounted () {\r\n    this.scrollArea.removeEventListener('scroll', this.handleScroll);\r\n  },\r\n};\r\n</script>","<template>\r\n  <div class=\"message\" :class=\"{ 'left-message': !mine, 'right-message': mine }\">\r\n    <div v-if=\"!mine\" class=\"message-user\">{{message.user.name}}</div>\r\n    <div v-else class=\"flex-1\"></div>\r\n    <div class=\"message-content\">{{message.content}}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'Message',\r\n    props: ['message', 'mine']\r\n};\r\n</script>","import { render } from \"./Message.vue?vue&type=template&id=39b0a6bc\"\nimport script from \"./Message.vue?vue&type=script&lang=js\"\nexport * from \"./Message.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./MessageList.vue?vue&type=template&id=cf31bfb8\"\nimport script from \"./MessageList.vue?vue&type=script&lang=js\"\nexport * from \"./MessageList.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n    <div class=\"texting-area\">\r\n        <textarea ref=\"textingArea\"\r\n            v-model.trim=\"content\"\r\n            v-on:keyup=\"onKeyUp\"\r\n            placeholder=\"Message here...\"\r\n        ></textarea>\r\n        <button @click=\"createMessage\"><img src=\"@/assets/images/send-icon.png\" alt=\"\"></button>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n    name: 'TextingInput',\r\n    data: function() {\r\n        return {\r\n            content: '',\r\n            textingArea: null\r\n        };\r\n    },\r\n    computed: {\r\n        ...mapGetters(['getUser', 'getSocket', 'getRoom'])\r\n    },\r\n    methods: {\r\n        createMessage() {\r\n            if(this.content != '') {\r\n                this.getSocket.emit('createMessage', {\r\n                    userId: this.getUser._id,\r\n                    roomId: this.getRoom._id,\r\n                    token: this.getUser.token,\r\n                    content: this.content\r\n                });\r\n                this.content = '';\r\n                this.focusTextingArea();\r\n            }\r\n        },\r\n        onKeyUp(e) {\r\n            e.preventDefault();\r\n            if (e.keyCode === 13 && !e.shiftKey) {\r\n                this.createMessage();\r\n            }\r\n        },\r\n        focusTextingArea(){\r\n            this.$refs.textingArea.focus();\r\n        }\r\n    },\r\n    mounted() {\r\n        this.textingArea = this.$refs.textingArea;\r\n        this.focusTextingArea();\r\n    }\r\n};\r\n</script>","import { render } from \"./TextingInput.vue?vue&type=template&id=a6bedcbc\"\nimport script from \"./TextingInput.vue?vue&type=script&lang=js\"\nexport * from \"./TextingInput.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./ChatRoom.vue?vue&type=template&id=1ba45c2a\"\nimport script from \"./ChatRoom.vue?vue&type=script&lang=js\"\nexport * from \"./ChatRoom.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div>\n    <h1>Page Not Found</h1>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'PageNotFound'\n}\n</script>","import { render } from \"./PageNotFound.vue?vue&type=template&id=0bcf0de0\"\nimport script from \"./PageNotFound.vue?vue&type=script&lang=js\"\nexport * from \"./PageNotFound.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { createRouter, createWebHistory, RouteRecordRaw } from 'vue-router'\nimport Login from '../views/Login.vue'\nimport ChatRoom from '../views/ChatRoom.vue'\nimport PageNotFound from '../views/PageNotFound.vue'\n\nconst routes: Array<RouteRecordRaw> = [\n    {\n        path: '/',\n        name: 'Login',\n        component: Login\n    },\n    {\n        path: '/chat-room',\n        name: 'ChatRoom',\n        component: ChatRoom\n    },\n    {\n        path: \"/:pathMatch(.*)*\",\n        component: PageNotFound\n    }\n]\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\nrouter.beforeEach(async (to, from, next) => {\n    if (to.name == 'ChatRoom') {\n        if (localStorage.user == null || JSON.parse(localStorage.auth) != true) {\n            next({\n                name: 'Login'\n            });\n        } else {\n            next();\n        }\n    } else if (to.name == 'Login') {\n        if (localStorage.user != null && JSON.parse(localStorage.auth) == true) {\n            next({\n                name: 'ChatRoom'\n            });\n        } else {\n            next();\n        }\n    }\n});\n\nexport default router;","import { createStore } from 'vuex'\nimport router from '../router';\n\nexport default createStore({\n    state: {\n        user: null,\n        auth: false,\n        room: null,\n        socket: null,\n        modalShow: false,\n        modalMessage: \"\",\n        serverUrl: \"\",\n        serverProxy: \"\"\n    },\n    getters: {\n        getUser: state => state.user,\n        getAuth: state => state.auth,\n        getRoom: state => state.room,\n        getSocket: state => state.socket,\n        getModalShow: state => state.modalShow,\n        getModalMessage: state => state.modalMessage,\n        getServerUrl: state => state.serverUrl,\n        getServerProxy: state => state.serverProxy\n    },\n    mutations: {\n        USER: (state, payload) => {\n            state.user = payload;\n        },\n        AUTH: (state, payload) => {\n            state.auth = payload;\n        },\n        ROOM: (state, payload) => {\n            state.room = payload;\n        },\n        SOCKET: (state, payload) => {\n            state.socket = payload;\n        },\n        MODEL_SHOW: (state, payload) => {\n            state.modalShow = payload;\n        },\n        MODEL_MESSAGE: (state, payload) => {\n            state.modalMessage = payload;\n        },\n        SERVER_URL: (state, payload) => {\n            state.serverUrl = payload;\n        },\n        SERVER_PROXY: (state, payload) => {\n            state.serverProxy = payload;\n        },\n    },\n    actions: {\n        setUser: (context, payload) => {\n            context.commit('USER', payload);\n            localStorage.setItem('user', JSON.stringify(payload));\n        },\n        setAuth: (context, payload) => {\n            context.commit('AUTH', payload);\n            localStorage.setItem('auth', payload);\n            if (!payload) {\n                router.push({ name: 'Login' });\n            }\n        },\n        setRoom: (context, payload) => {\n            context.commit('ROOM', payload);\n            localStorage.setItem('room', JSON.stringify(payload));\n            if (!payload) {\n                context.commit('AUTH', false);\n            }\n        },\n        setSocket: (context, payload) => {\n            context.commit('SOCKET', payload);\n        },\n        setShowModel: (context, payload) => {\n            context.commit('MODEL_SHOW', payload);\n        },\n        setMessageModel: (context, payload) => {\n            context.commit('MODEL_MESSAGE', payload);\n        },\n        setServerUrl: (context, payload) => {\n            context.commit('SERVER_URL', payload);\n        },\n        setServerProxy: (context, payload) => {\n            context.commit('SERVER_PROXY', payload);\n        },\n    }\n});","import { createApp } from 'vue'\r\nimport axios from 'axios';\r\n\r\nimport App from './App.vue';\r\nimport router from './router';\r\nimport store from './store';\r\n\r\nstore.dispatch('setSocket', null);\r\n\r\nif (process.env.NODE_ENV === \"development\") {\r\n    store.dispatch('setServerProxy', process.env.VUE_APP_DEV_PROXY);\r\n    store.dispatch('setServerUrl', process.env.VUE_APP_DEV_URL);\r\n} else {\r\n    store.dispatch('setServerProxy', process.env.VUE_APP_PROD_PROXY);\r\n    store.dispatch('setServerUrl', process.env.VUE_APP_PROD_URL);\r\n}\r\n\r\nif (localStorage.user && localStorage.auth) {\r\n    axios.defaults.headers.common['Authorization'] = (JSON.parse(localStorage.user)).token;\r\n} else {\r\n    delete axios.defaults.headers.common['Authorization'];\r\n}\r\nif (localStorage.user) {\r\n    store.dispatch('setUser', (JSON.parse(localStorage.user)));\r\n}\r\nif (localStorage.auth) {\r\n    store.dispatch('setAuth', (JSON.parse(localStorage.auth)));\r\n}\r\nif (localStorage.room) {\r\n    store.dispatch('setRoom', (JSON.parse(localStorage.room)));\r\n}\r\n\r\naxios.interceptors.request.use(\r\n    function(config:any) {\r\n        return config;\r\n    },\r\n    function(err:any) {\r\n        return Promise.reject(err);\r\n    }\r\n);\r\n\r\naxios.interceptors.response.use(\r\n    function(response:any) {\r\n        return response;\r\n    },\r\n    function(err:any) {\r\n        if (err.response.status === 401) {\r\n            localStorage.removeItem('user');\r\n            store.dispatch('setUser', false);\r\n            router.push({\r\n                name: 'Login',\r\n                params: { message: 'Session has expired!' }\r\n            });\r\n        }\r\n        return Promise.reject(err);\r\n    }\r\n);\r\n\r\ncreateApp(App).use(router).use(store).mount('#root')"],"sourceRoot":""}