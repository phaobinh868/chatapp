{"version":3,"sources":["webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?e63b","webpack:///./src/views/Login.vue?a175"],"names":["class","type","login","placeholder","name","roomId","data","token","computed","created","this","getUser","getRoom","id","methods","a","post","getServerUrl","then","res","msg","$store","dispatch","user","room","$router","push","render","__scopeId"],"mappings":"uPAGWA,MAAM,U,EACT,eAAsB,UAAlB,iBAAa,G,EAInB,eAAoD,UAA5CC,KAAK,SAASD,MAAM,YAAW,QAAI,G,wEAP/C,eASM,YARJ,eAOO,QAPA,SAAM,8CAAU,EAAAE,OAAA,EAAAA,MAAA,qBAAK,cAAEF,MAAM,c,CAClC,eAIM,MAJN,EAIM,CAHJ,E,eACA,eAA6F,SAAtFC,KAAK,OAAOD,MAAM,aAAaG,YAAY,W,qDAAyB,EAAAC,KAAI,IAAEA,KAAK,Q,mBAAX,EAAAA,U,SAAd,M,eAC7D,eAA+F,SAAxFH,KAAK,OAAOD,MAAM,aAAaG,YAAY,S,qDAAuB,EAAAE,OAAM,IAAED,KAAK,U,mBAAb,EAAAC,Y,SAAd,QAE7D,G,sDAQS,GACbD,KAAM,QACNE,KAAM,WACF,MAAO,CACHF,KAAM,GACNC,OAAQ,GACRE,MAAO,KAGfC,SAAU,kBACH,eAAW,CAAC,UAAW,aAE9BC,QAZa,WAaRC,KAAKC,UACND,KAAKN,KAAOM,KAAKC,QAAQP,KACzBM,KAAKH,MAAQG,KAAKC,QAAQJ,OAEzBG,KAAKE,UACNF,KAAKL,OAASK,KAAKE,QAAQC,KAG/BC,QAAS,iCACJ,eAAW,CAAC,UAAW,UAAW,UAAW,kBAD3C,IAELZ,MAFO,WAEC,WACFQ,KAAKN,MAAQM,KAAKL,OAClB,EAAAU,EAAMC,KAAKN,KAAKO,aAAe,iBAAkB,CAC/Cb,KAAMM,KAAKN,KACXC,OAAQK,KAAKL,OACbE,MAAOG,KAAKH,QACXW,MAAK,SAAAC,GACFA,EAAIb,KAAKc,KACX,EAAKC,OAAOC,SAAS,gBAAgB,GACrC,EAAKD,OAAOC,SAAS,kBAAmBH,EAAIb,KAAKc,OAEjD,EAAKC,OAAOC,SAAS,WAAW,GAChC,EAAKD,OAAOC,SAAS,UAAWH,EAAIb,KAAKiB,MACzC,EAAKF,OAAOC,SAAS,UAAWH,EAAIb,KAAKkB,MACzC,EAAKC,QAAQC,KAAK,CACdtB,KAAM,kBAKhBM,KAAKW,OAAOC,SAAS,gBAAgB,GACrCZ,KAAKW,OAAOC,SAAS,kBAAmB,yC,UCvDhD,EAAOK,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,kCCRf","file":"js/chunk-71b67799.2cd9ddf3.js","sourcesContent":["<template>\n  <div>\n    <form @submit.prevent=\"login\" class=\"login-area\">\n      <div class=\"flex-1\">\n        <h1>Join Chatroom</h1>\n        <input type=\"text\" class=\"form-input\" placeholder=\"Username\" v-model.trim=\"name\" name=\"name\">\n        <input type=\"text\" class=\"form-input\" placeholder=\"RoomID\" v-model.trim=\"roomId\" name=\"roomId\">\n      </div>\n      <button type=\"submit\" class=\"join-btn\">Join</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { mapActions, mapGetters } from 'vuex';\nexport default {\n  name: 'Login',\n  data: function() {\n      return {\n          name: '',\n          roomId: '',\n          token: ''\n      };\n  },\n  computed: {\n      ...mapGetters(['getUser', 'getRoom'])\n  },\n  created() {\n    if(this.getUser){\n      this.name = this.getUser.name\n      this.token = this.getUser.token\n    }\n    if(this.getRoom){\n      this.roomId = this.getRoom.id\n    }\n  },\n  methods: {\n    ...mapActions(['setUser', 'setAuth', 'setRoom', 'getServerUrl']),\n    login() {\n      if (this.name && this.roomId) {\n          axios.post(this.getServerUrl + '/api/join-room', {\n            name: this.name,\n            roomId: this.roomId,\n            token: this.token\n          }).then(res => {\n            if (res.data.msg) {\n              this.$store.dispatch('setShowModel', true);\n              this.$store.dispatch('setMessageModel', res.data.msg);\n            } else {\n              this.$store.dispatch('setAuth', true);\n              this.$store.dispatch('setUser', res.data.user);\n              this.$store.dispatch('setRoom', res.data.room);\n              this.$router.push({\n                  name: 'ChatRoom'\n              });\n            }\n          });\n      } else {\n        this.$store.dispatch('setShowModel', true);\n        this.$store.dispatch('setMessageModel', \"Username or RoomID cann't empty!\");\n      }\n    }\n  }\n}\n</script>\n<style scoped>\n  .login-area{\n    padding-left: 16px;\n    padding-right: 16px;\n    height: calc(100vh - 60px);\n    display: flex;\n    flex-direction: column;\n  }\n  .login-area .flex-1{\n    flex: 1;\n  }\n  .login-area h1 {\n    font-weight: 600;\n    font-size: 30px;\n    line-height: 36px;\n    color: #000000;\n    margin-bottom: 32px;\n  }\n  .login-area input.form-input {\n    background: #f6f6f6;\n    border: 1px solid #e8e8e8;\n    box-sizing: border-box;\n    border-radius: 8px;\n    width: 100%;\n    height: 50px;\n    padding: 16px;\n    margin-bottom: 16px;\n  }\n  .login-area .join-btn{\n    text-transform: uppercase;\n    margin-bottom: 60px;\n    height: 50px;\n    background: #5DB075;\n    border-radius: 100px;\n    padding: 16px 32px;\n    color: #ffffff;\n    font-weight: 600;\n    font-size: 16px;\n    border: 0;\n    cursor: pointer;\n  }\n  .login-area .join-btn:hover{\n    opacity: 0.8;\n  }\n</style>","import { render } from \"./Login.vue?vue&type=template&id=58d4d9ac&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=58d4d9ac&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-58d4d9ac\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=58d4d9ac&scoped=true&lang=css\""],"sourceRoot":""}