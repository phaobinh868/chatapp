{"version":3,"sources":["webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?e63b"],"names":["class","type","login","placeholder","name","roomId","data","token","computed","created","this","getUser","getRoom","id","methods","a","post","getServerUrl","then","res","msg","$store","dispatch","user","room","$router","push","render"],"mappings":"oJAGWA,MAAM,U,EACT,eAAsB,UAAlB,iBAAa,G,EAInB,eAAoD,UAA5CC,KAAK,SAASD,MAAM,YAAW,QAAI,G,gDAP/C,eASM,YARJ,eAOO,QAPA,SAAM,8CAAU,EAAAE,OAAA,EAAAA,MAAA,qBAAK,cAAEF,MAAM,c,CAClC,eAIM,MAJN,EAIM,CAHJ,E,eACA,eAA6F,SAAtFC,KAAK,OAAOD,MAAM,aAAaG,YAAY,W,qDAAyB,EAAAC,KAAI,IAAEA,KAAK,Q,mBAAX,EAAAA,U,SAAd,M,eAC7D,eAA+F,SAAxFH,KAAK,OAAOD,MAAM,aAAaG,YAAY,S,qDAAuB,EAAAE,OAAM,IAAED,KAAK,U,mBAAb,EAAAC,Y,SAAd,QAE7D,G,uDAQS,GACbD,KAAM,QACNE,KAAM,WACF,MAAO,CACHF,KAAM,GACNC,OAAQ,GACRE,MAAO,KAGfC,SAAU,kBACH,eAAW,CAAC,UAAW,UAAW,kBAEzCC,QAZa,WAaRC,KAAKC,UACND,KAAKN,KAAOM,KAAKC,QAAQP,KACzBM,KAAKH,MAAQG,KAAKC,QAAQJ,OAEzBG,KAAKE,UACNF,KAAKL,OAASK,KAAKE,QAAQC,KAG/BC,QAAS,iCACJ,eAAW,CAAC,UAAW,UAAW,aADhC,IAELZ,MAFO,WAEC,WACFQ,KAAKN,MAAQM,KAAKL,OAClB,EAAAU,EAAMC,KAAKN,KAAKO,aAAe,iBAAkB,CAC/Cb,KAAMM,KAAKN,KACXC,OAAQK,KAAKL,OACbE,MAAOG,KAAKH,QACXW,MAAK,SAAAC,GACFA,EAAIb,KAAKc,KACX,EAAKC,OAAOC,SAAS,gBAAgB,GACrC,EAAKD,OAAOC,SAAS,kBAAmBH,EAAIb,KAAKc,OAEjD,EAAKC,OAAOC,SAAS,WAAW,GAChC,EAAKD,OAAOC,SAAS,UAAWH,EAAIb,KAAKiB,MACzC,EAAKF,OAAOC,SAAS,UAAWH,EAAIb,KAAKkB,MACzC,EAAKC,QAAQC,KAAK,CACdtB,KAAM,kBAKhBM,KAAKW,OAAOC,SAAS,gBAAgB,GACrCZ,KAAKW,OAAOC,SAAS,kBAAmB,yCCzDhD,EAAOK,OAASA,EAED","file":"js/chunk-2d2086b7.aadacf2e.js","sourcesContent":["<template>\n  <div>\n    <form @submit.prevent=\"login\" class=\"login-area\">\n      <div class=\"flex-1\">\n        <h1>Join Chatroom</h1>\n        <input type=\"text\" class=\"form-input\" placeholder=\"Username\" v-model.trim=\"name\" name=\"name\">\n        <input type=\"text\" class=\"form-input\" placeholder=\"RoomID\" v-model.trim=\"roomId\" name=\"roomId\">\n      </div>\n      <button type=\"submit\" class=\"join-btn\">Join</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { mapActions, mapGetters } from 'vuex';\nexport default {\n  name: 'Login',\n  data: function() {\n      return {\n          name: '',\n          roomId: '',\n          token: ''\n      };\n  },\n  computed: {\n      ...mapGetters(['getUser', 'getRoom', 'getServerUrl'])\n  },\n  created() {\n    if(this.getUser){\n      this.name = this.getUser.name\n      this.token = this.getUser.token\n    }\n    if(this.getRoom){\n      this.roomId = this.getRoom.id\n    }\n  },\n  methods: {\n    ...mapActions(['setUser', 'setAuth', 'setRoom']),\n    login() {\n      if (this.name && this.roomId) {\n          axios.post(this.getServerUrl + '/api/join-room', {\n            name: this.name,\n            roomId: this.roomId,\n            token: this.token\n          }).then(res => {\n            if (res.data.msg) {\n              this.$store.dispatch('setShowModel', true);\n              this.$store.dispatch('setMessageModel', res.data.msg);\n            } else {\n              this.$store.dispatch('setAuth', true);\n              this.$store.dispatch('setUser', res.data.user);\n              this.$store.dispatch('setRoom', res.data.room);\n              this.$router.push({\n                  name: 'ChatRoom'\n              });\n            }\n          });\n      } else {\n        this.$store.dispatch('setShowModel', true);\n        this.$store.dispatch('setMessageModel', \"Username or RoomID cann't empty!\");\n      }\n    }\n  }\n}\n</script>","import { render } from \"./Login.vue?vue&type=template&id=477bc39f\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}